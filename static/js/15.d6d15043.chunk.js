(this["webpackJsonpsupra-dollar-frontend"]=this["webpackJsonpsupra-dollar-frontend"]||[]).push([[15],{875:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return Z}));var c=t(0),r=t(7),i=t(1),a=t(5),o=t(234),s=t(105),u=t(32),l=t(854),b=t(830),j=t(13),d=t.n(j),x=t(23),f=t(17),O=t(68),p=t(832),h=t(852),m=t(828),v=t(827),g=t(840),w=t(80),k=t(839),y=t(22),D=t(843),S=t(842),B=t(836);function C(){var e=Object(r.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return C=function(){return e},e}function T(){var e=Object(r.a)(["\n  color: ",";\n"]);return T=function(){return e},e}function A(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n  width: 100%;\n"]);return A=function(){return e},e}function M(){var e=Object(r.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ","px;\n"]);return M=function(){return e},e}var N=a.e.div(M(),(function(e){return e.theme.colors.primary}),(function(e){return-e.theme.spacing[3]})),z=a.e.div(A(),(function(e){return e.theme.spacing[3]})),E=a.e.span(T(),(function(e){return e.theme.colors.tertiary})),F=a.e.div(C()),H=function(e){var n=e.action,t=e.fromToken,r=e.toToken,a=e.priceDesc,o=e.onExchange,u=e.disabled,l=void 0!==u&&u,b=e.disabledDescription,j=Object(i.useState)(!1),O=Object(f.a)(j,2),p=O[0],h=O[1],m=Object(k.a)(t),v=Object(D.c)(t),g=v.onApprove,w=v.isApproved,y=Object(i.useCallback)(Object(x.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,g();case 4:h(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[g]),C=Object(s.useModal)(Object(c.jsx)(S.a,{max:m,onConfirm:o,tokenName:t})),T=Object(f.a)(C,1)[0];return Object(c.jsx)(s.Card,{children:Object(c.jsx)(B.a,{token:r.toLocaleLowerCase(),children:Object(c.jsxs)(F,{children:[Object(c.jsx)(N,{children:"".concat(n," ").concat(r)}),Object(c.jsx)(E,{children:a}),Object(c.jsx)(z,{children:w||l?Object(c.jsx)(s.Button,{onClick:T,disabled:l,children:b||n}):Object(c.jsx)(s.Button,{disabled:p,onClick:y,children:"Approve ".concat(t)})})]})})})};function L(){var e=Object(r.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ","px;\n"]);return L=function(){return e},e}function P(){var e=Object(r.a)(["\n  color: ",";\n  text-align: center;\n"]);return P=function(){return e},e}function R(){var e=Object(r.a)(["\n  color: ",";\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ","px;\n"]);return R=function(){return e},e}var J=a.e.div(R(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.spacing[2]})),W=a.e.span(P(),(function(e){return e.theme.colors.secondary})),$=a.e.div(L(),(function(e){return e.theme.spacing[2]})),q=function(e){var n=e.description,t=e.label;return Object(c.jsx)(s.Card,{children:Object(c.jsx)(s.CardBody,{children:Object(c.jsxs)($,{children:[Object(c.jsx)(J,{children:t}),Object(c.jsx)(W,{children:n})]})})})};function G(){var e=Object(r.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n"]);return G=function(){return e},e}function I(){var e=Object(r.a)(["\n  display: flex;\n  width: 960px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n"]);return I=function(){return e},e}var K=a.e.div(I()),Q=a.e.div(G()),U=function(){var e=Object(O.m)().account,n=Object(w.e)(),t=Object(k.a)(y.b.SBO),r=Object(h.c)(),a=Object(h.b)(),o=Object(f.a)(a,2),s=o[0],u=o[1],l=Object(i.useCallback)(function(){var t=Object(x.a)(d.a.mark((function t(c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(v.b)(n,c,r,e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n]),b=Object(i.useCallback)(function(){var t=Object(x.a)(d.a.mark((function t(c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(v.d)(n,c,r,e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r,e,n]),j=Object(i.useMemo)((function(){return Number(r)>1&&Number(u)>0}),[r,u]),D=Object(i.useMemo)((function(){return Number(r)<1}),[r]),S=Object(i.useMemo)((function(){return D?"Burnable Dollars":"Redeemable Bonds"}),[D]);return e?Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(K,{children:[Object(c.jsx)(Q,{children:Object(c.jsx)(H,{action:"Purchase",fromToken:y.b.SDO,toToken:y.b.SBO,priceDesc:D?"".concat(Math.floor(100/r.toNumber()-100),"% return when ").concat(y.b.SDO," is over"):"".concat(y.b.SDO," is over peg"),onExchange:l,disabled:!D})}),Object(c.jsx)(p.a,{}),Object(c.jsxs)(Q,{children:[Object(c.jsx)(q,{description:S,label:D?null===s||void 0===s?void 0:s.toFixed(3):null===u||void 0===u?void 0:u.toFixed(3)}),Object(c.jsx)(p.a,{}),Object(c.jsx)(q,{description:"Last-Hour TWAP Price",label:"\ud83d\udcb0 ".concat(y.b.SDO," = $").concat((null===r||void 0===r?void 0:r.toFixed(3))||"-")})]}),Object(c.jsx)(p.a,{}),Object(c.jsx)(Q,{children:Object(c.jsx)(H,{action:"Redeem",fromToken:y.b.SBO,toToken:y.b.SDO,priceDesc:"".concat(Object(m.c)(t)," ").concat(y.b.SDO," Available"),onExchange:b,disabled:!j,disabledDescription:j?"Redeem":"Enabled when ".concat(y.b.SDO," over peg")})})]})}):Object(c.jsx)(g.a,{mt:"8px",fullWidth:!0})};function V(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 32px;\n"]);return V=function(){return e},e}var X=a.e.div(V()),Y=new Date(1621818673e3),Z=function(){var e=Object(u.g)().path;return Date.now()>=Y.getTime()?Object(c.jsxs)(o.a,{children:[Object(c.jsx)(b.a,{children:Object(c.jsx)(s.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})}),Object(c.jsx)(u.a,{exact:!0,path:"".concat(e),children:Object(c.jsx)(U,{})})]}):Object(c.jsxs)(o.a,{children:[Object(c.jsx)(b.a,{children:Object(c.jsx)(s.Heading,{as:"h1",size:"lg",mb:"50px",style:{textAlign:"center"},children:"\ud83d\udcb0 Bonds"})}),Object(c.jsx)(X,{children:Object(c.jsx)(l.a,{deadline:Y})})]})}}}]);
//# sourceMappingURL=15.d6d15043.chunk.js.map